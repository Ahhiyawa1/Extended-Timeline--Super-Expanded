namespace = SM_imperial_italy_memorial_events
namespace = SM_naval_engineering_complex_events
namespace = SM_beacon_of_the_sea_events
namespace = SM_seat_of_colonial_authority_events
namespace = SM_wondrous_garden_in_the_desert_events
#Imperial Italy Memorial
country_event = { #Choose country
	id = SM_imperial_italy_memorial_events.0
	title = SM_imperial_italy_memorial_events.spawn_title
	desc = SM_imperial_italy_memorial_events.spawn_desc
	picture = DIPLOMACY_eventPicture
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			set_country_flag = SM_spawn_event_open_flag
			random_country = {
				limit = {
					SM_imperial_italy_memorial_country_triggers = yes
					NOT = { has_country_flag = SM_skip_target_flag }
				}
				save_event_target_as = SM_country_target_1
			}
			random_country = {
				limit = {
					SM_imperial_italy_memorial_country_triggers = yes
					NOT = { tag = event_target:SM_country_target_1 }
					NOT = { has_country_flag = SM_skip_target_flag }
				}
				save_event_target_as = SM_country_target_2
			}
			random_country = {
				limit = {
					SM_imperial_italy_memorial_country_triggers = yes
					NOT = { tag = event_target:SM_country_target_1 }
					NOT = { tag = event_target:SM_country_target_2 }
					NOT = { has_country_flag = SM_skip_target_flag }
				}
				save_event_target_as = SM_country_target_3
			}
			random_country = {
				limit = {
					SM_imperial_italy_memorial_country_triggers = yes
					NOT = { tag = event_target:SM_country_target_1 }
					NOT = { tag = event_target:SM_country_target_2 }
					NOT = { tag = event_target:SM_country_target_3 }
					NOT = { has_country_flag = SM_skip_target_flag }
				}
				save_event_target_as = SM_country_target_4
			}
			random_country = {
				limit = {
					SM_imperial_italy_memorial_country_triggers = yes
					NOT = { tag = event_target:SM_country_target_1 }
					NOT = { tag = event_target:SM_country_target_2 }
					NOT = { tag = event_target:SM_country_target_3 }
					NOT = { tag = event_target:SM_country_target_4 }
					NOT = { has_country_flag = SM_skip_target_flag }
				}
				save_event_target_as = SM_country_target_5
			}
		}
	}
	option = {
		name = [SM_country_target_1.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			hidden_trigger = {
				has_saved_event_target = SM_country_target_1
				event_target:SM_country_target_1 = {
					NOT = { has_country_flag = SM_skip_target_flag }
				}
			}
		}
		event_target:SM_country_target_1 = {
			SM_imperial_italy_memorial_spawn_country_effects = yes
		}
		SM_imperial_italy_memorial_spawn_emperor_effects = yes
	}
	option = {
		name = [SM_country_target_2.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			hidden_trigger = {
				has_saved_event_target = SM_country_target_2
				event_target:SM_country_target_2 = {
					NOT = { has_country_flag = SM_skip_target_flag }
				}
			}
		}
		event_target:SM_country_target_2 = {
			SM_imperial_italy_memorial_spawn_country_effects = yes
		}
		SM_imperial_italy_memorial_spawn_emperor_effects = yes
	}
	option = {
		name = [SM_country_target_3.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			hidden_trigger = {
				has_saved_event_target = SM_country_target_3
				event_target:SM_country_target_3 = {
					NOT = { has_country_flag = SM_skip_target_flag }
				}
			}
		}
		event_target:SM_country_target_3 = {
			SM_imperial_italy_memorial_spawn_country_effects = yes
		}
		SM_imperial_italy_memorial_spawn_emperor_effects = yes
	}
	option = {
		name = [SM_country_target_4.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			hidden_trigger = {
				has_saved_event_target = SM_country_target_4
				event_target:SM_country_target_4 = {
					NOT = { has_country_flag = SM_skip_target_flag }
				}
			}
		}
		event_target:SM_country_target_4 = {
			SM_imperial_italy_memorial_spawn_country_effects = yes
		}
		SM_imperial_italy_memorial_spawn_emperor_effects = yes
	}
	option = {
		name = [SM_country_target_5.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			hidden_trigger = {
				has_saved_event_target = SM_country_target_5
				event_target:SM_country_target_5 = {
					NOT = { has_country_flag = SM_skip_target_flag }
				}
			}
		}
		event_target:SM_country_target_5 = {
			SM_imperial_italy_memorial_spawn_country_effects = yes
		}
		SM_imperial_italy_memorial_spawn_emperor_effects = yes
	}
	option = {
		name = SM.choose_other_country
		highlight = yes
		trigger = {
			hidden_trigger = {
				any_country = {
					SM_imperial_italy_memorial_country_triggers = yes
					NOT = { has_country_flag = SM_skip_target_flag }
					NOT = {
						OR = {
							tag = event_target:SM_country_target_1
							tag = event_target:SM_country_target_2
							tag = event_target:SM_country_target_3
							tag = event_target:SM_country_target_4
							tag = event_target:SM_country_target_5
						}
					}
				}
			}
		}
		hidden_effect = {
			event_target:SM_country_target_1 = { set_country_flag = SM_skip_target_flag }
			event_target:SM_country_target_2 = { set_country_flag = SM_skip_target_flag }
			event_target:SM_country_target_3 = { set_country_flag = SM_skip_target_flag }
			event_target:SM_country_target_4 = { set_country_flag = SM_skip_target_flag }
			event_target:SM_country_target_5 = { set_country_flag = SM_skip_target_flag }
			country_event = {
				id = SM_imperial_italy_memorial_events.1
			}
		}
	}
	option = {
		name = SM.choose_other_country
		highlight = yes
		trigger = {
			hidden_trigger = {
				NOT = {
					any_country = {
						SM_imperial_italy_memorial_country_triggers = yes
						NOT = { has_country_flag = SM_skip_target_flag }
						NOT = {
							OR = {
								tag = event_target:SM_country_target_1
								tag = event_target:SM_country_target_2
								tag = event_target:SM_country_target_3
								tag = event_target:SM_country_target_4
								tag = event_target:SM_country_target_5
							}
						}
					}
				}
				calc_true_if = {
					all_country = {
						SM_imperial_italy_memorial_country_triggers = yes
					}
					amount = 6
				}
			}
		}
		hidden_effect = {
			every_country = {
				clr_country_flag = SM_skip_target_flag
			}
			country_event = {
				id = SM_imperial_italy_memorial_events.1
			}
		}
	}
	after = {
		every_owned_province = { 
			clr_province_flag = SM_skip_target_flag
			clr_province_flag = SM_valid_province_flag
		}
		clr_country_flag = SM_spawn_event_open_flag
	}
}
country_event = { #Choose country
	id = SM_imperial_italy_memorial_events.1
	title = SM_imperial_italy_memorial_events.spawn_title
	desc = SM_imperial_italy_memorial_events.spawn_desc
	picture = DIPLOMACY_eventPicture
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			set_country_flag = SM_spawn_event_open_flag
			random_country = {
				limit = {
					SM_imperial_italy_memorial_country_triggers = yes
					NOT = { has_country_flag = SM_skip_target_flag }
				}
				save_event_target_as = SM_country_target_1
			}
			random_country = {
				limit = {
					SM_imperial_italy_memorial_country_triggers = yes
					NOT = { tag = event_target:SM_country_target_1 }
					NOT = { has_country_flag = SM_skip_target_flag }
				}
				save_event_target_as = SM_country_target_2
			}
			random_country = {
				limit = {
					SM_imperial_italy_memorial_country_triggers = yes
					NOT = { tag = event_target:SM_country_target_1 }
					NOT = { tag = event_target:SM_country_target_2 }
					NOT = { has_country_flag = SM_skip_target_flag }
				}
				save_event_target_as = SM_country_target_3
			}
			random_country = {
				limit = {
					SM_imperial_italy_memorial_country_triggers = yes
					NOT = { tag = event_target:SM_country_target_1 }
					NOT = { tag = event_target:SM_country_target_2 }
					NOT = { tag = event_target:SM_country_target_3 }
					NOT = { has_country_flag = SM_skip_target_flag }
				}
				save_event_target_as = SM_country_target_4
			}
			random_country = {
				limit = {
					SM_imperial_italy_memorial_country_triggers = yes
					NOT = { tag = event_target:SM_country_target_1 }
					NOT = { tag = event_target:SM_country_target_2 }
					NOT = { tag = event_target:SM_country_target_3 }
					NOT = { tag = event_target:SM_country_target_4 }
					NOT = { has_country_flag = SM_skip_target_flag }
				}
				save_event_target_as = SM_country_target_5
			}
		}
	}
	option = {
		name = [SM_country_target_1.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			hidden_trigger = {
				has_saved_event_target = SM_country_target_1
				event_target:SM_country_target_1 = {
					NOT = { has_country_flag = SM_skip_target_flag }
				}
			}
		}
		event_target:SM_country_target_1 = {
			SM_imperial_italy_memorial_spawn_country_effects = yes
		}
		SM_imperial_italy_memorial_spawn_emperor_effects = yes
	}
	option = {
		name = [SM_country_target_2.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			hidden_trigger = {
				has_saved_event_target = SM_country_target_2
				event_target:SM_country_target_2 = {
					NOT = { has_country_flag = SM_skip_target_flag }
				}
			}
		}
		event_target:SM_country_target_2 = {
			SM_imperial_italy_memorial_spawn_country_effects = yes
		}
		SM_imperial_italy_memorial_spawn_emperor_effects = yes
	}
	option = {
		name = [SM_country_target_3.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			hidden_trigger = {
				has_saved_event_target = SM_country_target_3
				event_target:SM_country_target_3 = {
					NOT = { has_country_flag = SM_skip_target_flag }
				}
			}
		}
		event_target:SM_country_target_3 = {
			SM_imperial_italy_memorial_spawn_country_effects = yes
		}
		SM_imperial_italy_memorial_spawn_emperor_effects = yes
	}
	option = {
		name = [SM_country_target_4.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			hidden_trigger = {
				has_saved_event_target = SM_country_target_4
				event_target:SM_country_target_4 = {
					NOT = { has_country_flag = SM_skip_target_flag }
				}
			}
		}
		event_target:SM_country_target_4 = {
			SM_imperial_italy_memorial_spawn_country_effects = yes
		}
		SM_imperial_italy_memorial_spawn_emperor_effects = yes
	}
	option = {
		name = [SM_country_target_5.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			hidden_trigger = {
				has_saved_event_target = SM_country_target_5
				event_target:SM_country_target_5 = {
					NOT = { has_country_flag = SM_skip_target_flag }
				}
			}
		}
		event_target:SM_country_target_5 = {
			SM_imperial_italy_memorial_spawn_country_effects = yes
		}
		SM_imperial_italy_memorial_spawn_emperor_effects = yes
	}
	option = {
		name = SM.choose_other_country
		highlight = yes
		trigger = {
			hidden_trigger = {
				any_country = {
					SM_imperial_italy_memorial_country_triggers = yes
					NOT = { has_country_flag = SM_skip_target_flag }
					NOT = {
						OR = {
							tag = event_target:SM_country_target_1
							tag = event_target:SM_country_target_2
							tag = event_target:SM_country_target_3
							tag = event_target:SM_country_target_4
							tag = event_target:SM_country_target_5
						}
					}
				}
			}
		}
		hidden_effect = {
			event_target:SM_country_target_1 = { set_country_flag = SM_skip_target_flag }
			event_target:SM_country_target_2 = { set_country_flag = SM_skip_target_flag }
			event_target:SM_country_target_3 = { set_country_flag = SM_skip_target_flag }
			event_target:SM_country_target_4 = { set_country_flag = SM_skip_target_flag }
			event_target:SM_country_target_5 = { set_country_flag = SM_skip_target_flag }
			country_event = {
				id = SM_imperial_italy_memorial_events.0
			}
		}
	}
	option = {
		name = SM.choose_other_country
		highlight = yes
		trigger = {
			hidden_trigger = {
				NOT = {
					any_country = {
						SM_imperial_italy_memorial_country_triggers = yes
						NOT = { has_country_flag = SM_skip_target_flag }
						NOT = {
							OR = {
								tag = event_target:SM_country_target_1
								tag = event_target:SM_country_target_2
								tag = event_target:SM_country_target_3
								tag = event_target:SM_country_target_4
								tag = event_target:SM_country_target_5
							}
						}
					}
				}
				calc_true_if = {
					all_country = {
						SM_imperial_italy_memorial_country_triggers = yes
					}
					amount = 6
				}
			}
		}
		hidden_effect = {
			every_country = {
				clr_country_flag = SM_skip_target_flag
			}
			country_event = {
				id = SM_imperial_italy_memorial_events.0
			}
		}
	}
	after = {
		every_owned_province = { 
			clr_province_flag = SM_skip_target_flag
			clr_province_flag = SM_valid_province_flag
		}
		clr_country_flag = SM_spawn_event_open_flag
	}
}
#Naval Engineering Complex
country_event = { #Choose province
	id = SM_naval_engineering_complex_events.0
	title = SM_naval_engineering_complex_events.spawn_title
	desc = SM_naval_engineering_complex_events.spawn_desc
	picture = HARBOUR_eventPicture
	is_triggered_only = yes
	major = yes
	major_trigger = {
		knows_country = ROOT
	}
	immediate = {
		hidden_effect = {
			set_country_flag = SM_spawn_event_open_flag
			every_owned_province = {
				limit = { SM_naval_engineering_complex_province_triggers = yes }
				set_province_flag = SM_valid_province_flag
			}
			SM_set_spawn_target_effects = yes
		}
	}
	option = {
		name = [SM_spawn_target_1.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			hidden_trigger = {
				has_saved_event_target = SM_spawn_target_1
				event_target:SM_spawn_target_1 = {
					NOT = { has_province_flag = SM_skip_target_flag }
				}
			}
		}
		goto = SM_spawn_target_1
		event_target:SM_spawn_target_1 = {
			SM_naval_engineering_complex_spawn_province_effects = yes
		}
		SM_naval_engineering_complex_spawn_country_effects = yes
	}
	option = {
		name = [SM_spawn_target_2.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			has_saved_event_target = SM_spawn_target_2
			event_target:SM_spawn_target_2 = {
				NOT = { has_province_flag = SM_skip_target_flag }
			}
		}
		goto = SM_spawn_target_2
		event_target:SM_spawn_target_2 = {
			SM_naval_engineering_complex_spawn_province_effects = yes
		}
		SM_naval_engineering_complex_spawn_country_effects = yes
	}
	option = {
		name = [SM_spawn_target_3.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			has_saved_event_target = SM_spawn_target_3
			event_target:SM_spawn_target_3 = {
				NOT = { has_province_flag = SM_skip_target_flag }
			}
		}
		goto = SM_spawn_target_3
		event_target:SM_spawn_target_3 = {
			SM_naval_engineering_complex_spawn_province_effects = yes
		}
		SM_naval_engineering_complex_spawn_country_effects = yes
	}
	option = {
		name = [SM_spawn_target_4.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			has_saved_event_target = SM_spawn_target_4
			event_target:SM_spawn_target_4 = {
				NOT = { has_province_flag = SM_skip_target_flag }
			}
		}
		goto = SM_spawn_target_4
		event_target:SM_spawn_target_4 = {
			SM_naval_engineering_complex_spawn_province_effects = yes
		}
		SM_naval_engineering_complex_spawn_country_effects = yes
	}
	option = {
		name = [SM_spawn_target_5.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			has_saved_event_target = SM_spawn_target_5
			event_target:SM_spawn_target_5 = {
				NOT = { has_province_flag = SM_skip_target_flag }
			}
		}
		goto = SM_spawn_target_5
		event_target:SM_spawn_target_5 = {
			SM_naval_engineering_complex_spawn_province_effects = yes
		}
		SM_naval_engineering_complex_spawn_country_effects = yes
	}
	option = {
		name = SM.choose_other_province
		highlight = yes
		trigger = {
			hidden_trigger = {
				SM_other_potential_province_exists_triggers = yes
			}
		}
		hidden_effect = {
			event_target:SM_spawn_target_1 = { set_province_flag = SM_skip_target_flag }
			event_target:SM_spawn_target_2 = { set_province_flag = SM_skip_target_flag }
			event_target:SM_spawn_target_3 = { set_province_flag = SM_skip_target_flag }
			event_target:SM_spawn_target_4 = { set_province_flag = SM_skip_target_flag }
			event_target:SM_spawn_target_5 = { set_province_flag = SM_skip_target_flag }
			country_event = {
				id = SM_naval_engineering_complex_events.1
			}
		}
	}
	option = {
		name = SM.choose_other_province
		highlight = yes
		trigger = {
			hidden_trigger = {
				NOT = { SM_other_potential_province_exists_triggers = yes }
				calc_true_if = {
					all_owned_province = {
						SM_naval_engineering_complex_province_triggers = yes
					}
					amount = 6
				}
			}
		}
		hidden_effect = {
			every_owned_province = {
				clr_province_flag = SM_skip_target_flag
			}
			country_event = {
				id = SM_naval_engineering_complex_events.1
			}
		}
	}
	after = {
		every_owned_province = { 
			clr_province_flag = SM_skip_target_flag
			clr_province_flag = SM_valid_province_flag
		}
		clr_country_flag = SM_spawn_event_open_flag
	}
}
country_event = { #Choose province
	id = SM_naval_engineering_complex_events.1
	title = SM_naval_engineering_complex_events.spawn_title
	desc = SM_naval_engineering_complex_events.spawn_desc
	picture = HARBOUR_eventPicture
	is_triggered_only = yes
	major = yes
	major_trigger = {
		knows_country = ROOT
	}
	immediate = {
		hidden_effect = {
			set_country_flag = SM_spawn_event_open_flag
			every_owned_province = {
				limit = { SM_naval_engineering_complex_province_triggers = yes }
				set_province_flag = SM_valid_province_flag
			}
			SM_set_spawn_target_effects = yes
		}
	}
	option = {
		name = [SM_spawn_target_1.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			hidden_trigger = {
				has_saved_event_target = SM_spawn_target_1
				event_target:SM_spawn_target_1 = {
					NOT = { has_province_flag = SM_skip_target_flag }
				}
			}
		}
		goto = SM_spawn_target_1
		event_target:SM_spawn_target_1 = {
			SM_naval_engineering_complex_spawn_province_effects = yes
		}
		SM_naval_engineering_complex_spawn_country_effects = yes
	}
	option = {
		name = [SM_spawn_target_2.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			has_saved_event_target = SM_spawn_target_2
			event_target:SM_spawn_target_2 = {
				NOT = { has_province_flag = SM_skip_target_flag }
			}
		}
		goto = SM_spawn_target_2
		event_target:SM_spawn_target_2 = {
			SM_naval_engineering_complex_spawn_province_effects = yes
		}
		SM_naval_engineering_complex_spawn_country_effects = yes
	}
	option = {
		name = [SM_spawn_target_3.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			has_saved_event_target = SM_spawn_target_3
			event_target:SM_spawn_target_3 = {
				NOT = { has_province_flag = SM_skip_target_flag }
			}
		}
		goto = SM_spawn_target_3
		event_target:SM_spawn_target_3 = {
			SM_naval_engineering_complex_spawn_province_effects = yes
		}
		SM_naval_engineering_complex_spawn_country_effects = yes
	}
	option = {
		name = [SM_spawn_target_4.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			has_saved_event_target = SM_spawn_target_4
			event_target:SM_spawn_target_4 = {
				NOT = { has_province_flag = SM_skip_target_flag }
			}
		}
		goto = SM_spawn_target_4
		event_target:SM_spawn_target_4 = {
			SM_naval_engineering_complex_spawn_province_effects = yes
		}
		SM_naval_engineering_complex_spawn_country_effects = yes
	}
	option = {
		name = [SM_spawn_target_5.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			has_saved_event_target = SM_spawn_target_5
			event_target:SM_spawn_target_5 = {
				NOT = { has_province_flag = SM_skip_target_flag }
			}
		}
		goto = SM_spawn_target_5
		event_target:SM_spawn_target_5 = {
			SM_naval_engineering_complex_spawn_province_effects = yes
		}
		SM_naval_engineering_complex_spawn_country_effects = yes
	}
	option = {
		name = SM.choose_other_province
		highlight = yes
		trigger = {
			hidden_trigger = {
				SM_other_potential_province_exists_triggers = yes
			}
		}
		hidden_effect = {
			event_target:SM_spawn_target_1 = { set_province_flag = SM_skip_target_flag }
			event_target:SM_spawn_target_2 = { set_province_flag = SM_skip_target_flag }
			event_target:SM_spawn_target_3 = { set_province_flag = SM_skip_target_flag }
			event_target:SM_spawn_target_4 = { set_province_flag = SM_skip_target_flag }
			event_target:SM_spawn_target_5 = { set_province_flag = SM_skip_target_flag }
			country_event = {
				id = SM_naval_engineering_complex_events.0
			}
		}
	}
	option = {
		name = SM.choose_other_province
		highlight = yes
		trigger = {
			hidden_trigger = {
				NOT = { SM_other_potential_province_exists_triggers = yes }
				calc_true_if = {
					all_owned_province = {
						SM_naval_engineering_complex_province_triggers = yes
					}
					amount = 6
				}
			}
		}
		hidden_effect = {
			every_owned_province = {
				clr_province_flag = SM_skip_target_flag
			}
			country_event = {
				id = SM_naval_engineering_complex_events.0
			}
		}
	}
	after = {
		every_owned_province = { 
			clr_province_flag = SM_skip_target_flag
			clr_province_flag = SM_valid_province_flag
		}
		clr_country_flag = SM_spawn_event_open_flag
	}
}
#Beacon of the Sea
country_event = { #Choose province
	id = SM_beacon_of_the_sea_events.0
	title = SM_beacon_of_the_sea_events.spawn_title
	desc = SM_beacon_of_the_sea_events.spawn_desc
	picture = SHIP_SAILING_eventPicture
	is_triggered_only = yes
	major = yes
	major_trigger = {
		knows_country = ROOT
	}
	immediate = {
		hidden_effect = {
			set_country_flag = SM_spawn_event_open_flag
			every_owned_province = {
				limit = { SM_beacon_of_the_sea_province_triggers = yes }
				set_province_flag = SM_valid_province_flag
			}
			SM_set_spawn_target_effects = yes
		}
	}
	option = {
		name = [SM_spawn_target_1.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			hidden_trigger = {
				has_saved_event_target = SM_spawn_target_1
				event_target:SM_spawn_target_1 = {
					NOT = { has_province_flag = SM_skip_target_flag }
				}
			}
		}
		goto = SM_spawn_target_1
		event_target:SM_spawn_target_1 = {
			SM_beacon_of_the_sea_spawn_province_effects = yes
		}
	}
	option = {
		name = [SM_spawn_target_2.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			has_saved_event_target = SM_spawn_target_2
			event_target:SM_spawn_target_2 = {
				NOT = { has_province_flag = SM_skip_target_flag }
			}
		}
		goto = SM_spawn_target_2
		event_target:SM_spawn_target_2 = {
			SM_beacon_of_the_sea_spawn_province_effects = yes
		}
	}
	option = {
		name = [SM_spawn_target_3.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			has_saved_event_target = SM_spawn_target_3
			event_target:SM_spawn_target_3 = {
				NOT = { has_province_flag = SM_skip_target_flag }
			}
		}
		goto = SM_spawn_target_3
		event_target:SM_spawn_target_3 = {
			SM_beacon_of_the_sea_spawn_province_effects = yes
		}
	}
	option = {
		name = [SM_spawn_target_4.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			has_saved_event_target = SM_spawn_target_4
			event_target:SM_spawn_target_4 = {
				NOT = { has_province_flag = SM_skip_target_flag }
			}
		}
		goto = SM_spawn_target_4
		event_target:SM_spawn_target_4 = {
			SM_beacon_of_the_sea_spawn_province_effects = yes
		}
	}
	option = {
		name = [SM_spawn_target_5.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			has_saved_event_target = SM_spawn_target_5
			event_target:SM_spawn_target_5 = {
				NOT = { has_province_flag = SM_skip_target_flag }
			}
		}
		goto = SM_spawn_target_5
		event_target:SM_spawn_target_5 = {
			SM_beacon_of_the_sea_spawn_province_effects = yes
		}
	}
	option = {
		name = SM.choose_other_province
		highlight = yes
		trigger = {
			hidden_trigger = {
				SM_other_potential_province_exists_triggers = yes
			}
		}
		hidden_effect = {
			event_target:SM_spawn_target_1 = { set_province_flag = SM_skip_target_flag }
			event_target:SM_spawn_target_2 = { set_province_flag = SM_skip_target_flag }
			event_target:SM_spawn_target_3 = { set_province_flag = SM_skip_target_flag }
			event_target:SM_spawn_target_4 = { set_province_flag = SM_skip_target_flag }
			event_target:SM_spawn_target_5 = { set_province_flag = SM_skip_target_flag }
			country_event = {
				id = SM_beacon_of_the_sea_events.1
			}
		}
	}
	option = {
		name = SM.choose_other_province
		highlight = yes
		trigger = {
			hidden_trigger = {
				NOT = { SM_other_potential_province_exists_triggers = yes }
				calc_true_if = {
					all_owned_province = {
						SM_beacon_of_the_sea_province_triggers = yes
					}
					amount = 6
				}
			}
		}
		hidden_effect = {
			every_owned_province = {
				clr_province_flag = SM_skip_target_flag
			}
			country_event = {
				id = SM_beacon_of_the_sea_events.1
			}
		}
	}
	after = {
		every_owned_province = { 
			clr_province_flag = SM_skip_target_flag
			clr_province_flag = SM_valid_province_flag
		}
		clr_country_flag = SM_spawn_event_open_flag
	}
}
country_event = { #Choose province
	id = SM_beacon_of_the_sea_events.1
	title = SM_beacon_of_the_sea_events.spawn_title
	desc = SM_beacon_of_the_sea_events.spawn_desc
	picture = SHIP_SAILING_eventPicture
	is_triggered_only = yes
	major = yes
	major_trigger = {
		knows_country = ROOT
	}
	immediate = {
		hidden_effect = {
			set_country_flag = SM_spawn_event_open_flag
			every_owned_province = {
				limit = { SM_beacon_of_the_sea_province_triggers = yes }
				set_province_flag = SM_valid_province_flag
			}
			SM_set_spawn_target_effects = yes
		}
	}
	option = {
		name = [SM_spawn_target_1.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			hidden_trigger = {
				has_saved_event_target = SM_spawn_target_1
				event_target:SM_spawn_target_1 = {
					NOT = { has_province_flag = SM_skip_target_flag }
				}
			}
		}
		goto = SM_spawn_target_1
		event_target:SM_spawn_target_1 = {
			SM_beacon_of_the_sea_spawn_province_effects = yes
		}
	}
	option = {
		name = [SM_spawn_target_2.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			has_saved_event_target = SM_spawn_target_2
			event_target:SM_spawn_target_2 = {
				NOT = { has_province_flag = SM_skip_target_flag }
			}
		}
		goto = SM_spawn_target_2
		event_target:SM_spawn_target_2 = {
			SM_beacon_of_the_sea_spawn_province_effects = yes
		}
	}
	option = {
		name = [SM_spawn_target_3.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			has_saved_event_target = SM_spawn_target_3
			event_target:SM_spawn_target_3 = {
				NOT = { has_province_flag = SM_skip_target_flag }
			}
		}
		goto = SM_spawn_target_3
		event_target:SM_spawn_target_3 = {
			SM_beacon_of_the_sea_spawn_province_effects = yes
		}
	}
	option = {
		name = [SM_spawn_target_4.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			has_saved_event_target = SM_spawn_target_4
			event_target:SM_spawn_target_4 = {
				NOT = { has_province_flag = SM_skip_target_flag }
			}
		}
		goto = SM_spawn_target_4
		event_target:SM_spawn_target_4 = {
			SM_beacon_of_the_sea_spawn_province_effects = yes
		}
	}
	option = {
		name = [SM_spawn_target_5.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			has_saved_event_target = SM_spawn_target_5
			event_target:SM_spawn_target_5 = {
				NOT = { has_province_flag = SM_skip_target_flag }
			}
		}
		goto = SM_spawn_target_5
		event_target:SM_spawn_target_5 = {
			SM_beacon_of_the_sea_spawn_province_effects = yes
		}
	}
	option = {
		name = SM.choose_other_province
		highlight = yes
		trigger = {
			hidden_trigger = {
				SM_other_potential_province_exists_triggers = yes
			}
		}
		hidden_effect = {
			event_target:SM_spawn_target_1 = { set_province_flag = SM_skip_target_flag }
			event_target:SM_spawn_target_2 = { set_province_flag = SM_skip_target_flag }
			event_target:SM_spawn_target_3 = { set_province_flag = SM_skip_target_flag }
			event_target:SM_spawn_target_4 = { set_province_flag = SM_skip_target_flag }
			event_target:SM_spawn_target_5 = { set_province_flag = SM_skip_target_flag }
			country_event = {
				id = SM_beacon_of_the_sea_events.0
			}
		}
	}
	option = {
		name = SM.choose_other_province
		highlight = yes
		trigger = {
			hidden_trigger = {
				NOT = { SM_other_potential_province_exists_triggers = yes }
				calc_true_if = {
					all_owned_province = {
						SM_beacon_of_the_sea_province_triggers = yes
					}
					amount = 6
				}
			}
		}
		hidden_effect = {
			every_owned_province = {
				clr_province_flag = SM_skip_target_flag
			}
			country_event = {
				id = SM_beacon_of_the_sea_events.0
			}
		}
	}
	after = {
		every_owned_province = { 
			clr_province_flag = SM_skip_target_flag
			clr_province_flag = SM_valid_province_flag
		}
		clr_country_flag = SM_spawn_event_open_flag
	}
}
#Seat of Colonial Authority
country_event = { #Choose province
	id = SM_seat_of_colonial_authority_events.0
	title = SM_seat_of_colonial_authority_events.spawn_title
	desc = SM_seat_of_colonial_authority_events.spawn_desc
	picture = HOUSE_OF_TRADE_eventPicture
	is_triggered_only = yes
	major = yes
	major_trigger = {
		knows_country = ROOT
	}
	immediate = {
		hidden_effect = {
			set_country_flag = SM_spawn_event_open_flag
			every_owned_province = {
				limit = { SM_seat_of_colonial_authority_province_triggers = yes }
				set_province_flag = SM_valid_province_flag
			}
			SM_set_spawn_target_effects = yes
		}
	}
	option = {
		name = [SM_spawn_target_1.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			hidden_trigger = {
				has_saved_event_target = SM_spawn_target_1
				event_target:SM_spawn_target_1 = {
					NOT = { has_province_flag = SM_skip_target_flag }
				}
			}
		}
		goto = SM_spawn_target_1
		event_target:SM_spawn_target_1 = {
			SM_seat_of_colonial_authority_spawn_province_effects = yes
		}
	}
	option = {
		name = [SM_spawn_target_2.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			has_saved_event_target = SM_spawn_target_2
			event_target:SM_spawn_target_2 = {
				NOT = { has_province_flag = SM_skip_target_flag }
			}
		}
		goto = SM_spawn_target_2
		event_target:SM_spawn_target_2 = {
			SM_seat_of_colonial_authority_spawn_province_effects = yes
		}
	}
	option = {
		name = [SM_spawn_target_3.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			has_saved_event_target = SM_spawn_target_3
			event_target:SM_spawn_target_3 = {
				NOT = { has_province_flag = SM_skip_target_flag }
			}
		}
		goto = SM_spawn_target_3
		event_target:SM_spawn_target_3 = {
			SM_seat_of_colonial_authority_spawn_province_effects = yes
		}
	}
	option = {
		name = [SM_spawn_target_4.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			has_saved_event_target = SM_spawn_target_4
			event_target:SM_spawn_target_4 = {
				NOT = { has_province_flag = SM_skip_target_flag }
			}
		}
		goto = SM_spawn_target_4
		event_target:SM_spawn_target_4 = {
			SM_seat_of_colonial_authority_spawn_province_effects = yes
		}
	}
	option = {
		name = [SM_spawn_target_5.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			has_saved_event_target = SM_spawn_target_5
			event_target:SM_spawn_target_5 = {
				NOT = { has_province_flag = SM_skip_target_flag }
			}
		}
		goto = SM_spawn_target_5
		event_target:SM_spawn_target_5 = {
			SM_seat_of_colonial_authority_spawn_province_effects = yes
		}
	}
	option = {
		name = SM.choose_other_province
		highlight = yes
		trigger = {
			hidden_trigger = {
				SM_other_potential_province_exists_triggers = yes
			}
		}
		hidden_effect = {
			event_target:SM_spawn_target_1 = { set_province_flag = SM_skip_target_flag }
			event_target:SM_spawn_target_2 = { set_province_flag = SM_skip_target_flag }
			event_target:SM_spawn_target_3 = { set_province_flag = SM_skip_target_flag }
			event_target:SM_spawn_target_4 = { set_province_flag = SM_skip_target_flag }
			event_target:SM_spawn_target_5 = { set_province_flag = SM_skip_target_flag }
			country_event = {
				id = SM_seat_of_colonial_authority_events.1
			}
		}
	}
	option = {
		name = SM.choose_other_province
		highlight = yes
		trigger = {
			hidden_trigger = {
				NOT = { SM_other_potential_province_exists_triggers = yes }
				calc_true_if = {
					all_owned_province = {
						SM_seat_of_colonial_authority_province_triggers = yes
					}
					amount = 6
				}
			}
		}
		hidden_effect = {
			every_owned_province = {
				clr_province_flag = SM_skip_target_flag
			}
			country_event = {
				id = SM_seat_of_colonial_authority_events.1
			}
		}
	}
	after = {
		every_owned_province = { 
			clr_province_flag = SM_skip_target_flag
			clr_province_flag = SM_valid_province_flag
		}
		clr_country_flag = SM_spawn_event_open_flag
	}
}
country_event = { #Choose province
	id = SM_seat_of_colonial_authority_events.1
	title = SM_seat_of_colonial_authority_events.spawn_title
	desc = SM_seat_of_colonial_authority_events.spawn_desc
	picture = HOUSE_OF_TRADE_eventPicture
	is_triggered_only = yes
	major = yes
	major_trigger = {
		knows_country = ROOT
	}
	immediate = {
		hidden_effect = {
			set_country_flag = SM_spawn_event_open_flag
			every_owned_province = {
				limit = { SM_seat_of_colonial_authority_province_triggers = yes }
				set_province_flag = SM_valid_province_flag
			}
			SM_set_spawn_target_effects = yes
		}
	}
	option = {
		name = [SM_spawn_target_1.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			hidden_trigger = {
				has_saved_event_target = SM_spawn_target_1
				event_target:SM_spawn_target_1 = {
					NOT = { has_province_flag = SM_skip_target_flag }
				}
			}
		}
		goto = SM_spawn_target_1
		event_target:SM_spawn_target_1 = {
			SM_seat_of_colonial_authority_spawn_province_effects = yes
		}
	}
	option = {
		name = [SM_spawn_target_2.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			has_saved_event_target = SM_spawn_target_2
			event_target:SM_spawn_target_2 = {
				NOT = { has_province_flag = SM_skip_target_flag }
			}
		}
		goto = SM_spawn_target_2
		event_target:SM_spawn_target_2 = {
			SM_seat_of_colonial_authority_spawn_province_effects = yes
		}
	}
	option = {
		name = [SM_spawn_target_3.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			has_saved_event_target = SM_spawn_target_3
			event_target:SM_spawn_target_3 = {
				NOT = { has_province_flag = SM_skip_target_flag }
			}
		}
		goto = SM_spawn_target_3
		event_target:SM_spawn_target_3 = {
			SM_seat_of_colonial_authority_spawn_province_effects = yes
		}
	}
	option = {
		name = [SM_spawn_target_4.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			has_saved_event_target = SM_spawn_target_4
			event_target:SM_spawn_target_4 = {
				NOT = { has_province_flag = SM_skip_target_flag }
			}
		}
		goto = SM_spawn_target_4
		event_target:SM_spawn_target_4 = {
			SM_seat_of_colonial_authority_spawn_province_effects = yes
		}
	}
	option = {
		name = [SM_spawn_target_5.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			has_saved_event_target = SM_spawn_target_5
			event_target:SM_spawn_target_5 = {
				NOT = { has_province_flag = SM_skip_target_flag }
			}
		}
		goto = SM_spawn_target_5
		event_target:SM_spawn_target_5 = {
			SM_seat_of_colonial_authority_spawn_province_effects = yes
		}
	}
	option = {
		name = SM.choose_other_province
		highlight = yes
		trigger = {
			hidden_trigger = {
				SM_other_potential_province_exists_triggers = yes
			}
		}
		hidden_effect = {
			event_target:SM_spawn_target_1 = { set_province_flag = SM_skip_target_flag }
			event_target:SM_spawn_target_2 = { set_province_flag = SM_skip_target_flag }
			event_target:SM_spawn_target_3 = { set_province_flag = SM_skip_target_flag }
			event_target:SM_spawn_target_4 = { set_province_flag = SM_skip_target_flag }
			event_target:SM_spawn_target_5 = { set_province_flag = SM_skip_target_flag }
			country_event = {
				id = SM_seat_of_colonial_authority_events.0
			}
		}
	}
	option = {
		name = SM.choose_other_province
		highlight = yes
		trigger = {
			hidden_trigger = {
				NOT = { SM_other_potential_province_exists_triggers = yes }
				calc_true_if = {
					all_owned_province = {
						SM_seat_of_colonial_authority_province_triggers = yes
					}
					amount = 6
				}
			}
		}
		hidden_effect = {
			every_owned_province = {
				clr_province_flag = SM_skip_target_flag
			}
			country_event = {
				id = SM_seat_of_colonial_authority_events.0
			}
		}
	}
	after = {
		every_owned_province = { 
			clr_province_flag = SM_skip_target_flag
			clr_province_flag = SM_valid_province_flag
		}
		clr_country_flag = SM_spawn_event_open_flag
	}
}
#Wondrous Garden in the Desert
country_event = { #Choose province
	id = SM_wondrous_garden_in_the_desert_events.0
	title = SM_wondrous_garden_in_the_desert_events.spawn_title
	desc = SM_wondrous_garden_in_the_desert_events.spawn_desc
	picture = CITY_VIEW_eventPicture
	is_triggered_only = yes
	major = yes
	major_trigger = {
		knows_country = ROOT
	}
	immediate = {
		hidden_effect = {
			set_country_flag = SM_spawn_event_open_flag
			every_owned_province = {
				limit = { SM_wondrous_garden_in_the_desert_province_triggers = yes }
				set_province_flag = SM_valid_province_flag
			}
			SM_set_spawn_target_effects = yes
		}
	}
	option = {
		name = [SM_spawn_target_1.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			hidden_trigger = {
				has_saved_event_target = SM_spawn_target_1
				event_target:SM_spawn_target_1 = {
					NOT = { has_province_flag = SM_skip_target_flag }
				}
			}
		}
		goto = SM_spawn_target_1
		event_target:SM_spawn_target_1 = {
			SM_wondrous_garden_in_the_desert_spawn_province_effects = yes
		}
	}
	option = {
		name = [SM_spawn_target_2.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			has_saved_event_target = SM_spawn_target_2
			event_target:SM_spawn_target_2 = {
				NOT = { has_province_flag = SM_skip_target_flag }
			}
		}
		goto = SM_spawn_target_2
		event_target:SM_spawn_target_2 = {
			SM_wondrous_garden_in_the_desert_spawn_province_effects = yes
		}
	}
	option = {
		name = [SM_spawn_target_3.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			has_saved_event_target = SM_spawn_target_3
			event_target:SM_spawn_target_3 = {
				NOT = { has_province_flag = SM_skip_target_flag }
			}
		}
		goto = SM_spawn_target_3
		event_target:SM_spawn_target_3 = {
			SM_wondrous_garden_in_the_desert_spawn_province_effects = yes
		}
	}
	option = {
		name = [SM_spawn_target_4.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			has_saved_event_target = SM_spawn_target_4
			event_target:SM_spawn_target_4 = {
				NOT = { has_province_flag = SM_skip_target_flag }
			}
		}
		goto = SM_spawn_target_4
		event_target:SM_spawn_target_4 = {
			SM_wondrous_garden_in_the_desert_spawn_province_effects = yes
		}
	}
	option = {
		name = [SM_spawn_target_5.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			has_saved_event_target = SM_spawn_target_5
			event_target:SM_spawn_target_5 = {
				NOT = { has_province_flag = SM_skip_target_flag }
			}
		}
		goto = SM_spawn_target_5
		event_target:SM_spawn_target_5 = {
			SM_wondrous_garden_in_the_desert_spawn_province_effects = yes
		}
	}
	option = {
		name = SM.choose_other_province
		highlight = yes
		trigger = {
			hidden_trigger = {
				SM_other_potential_province_exists_triggers = yes
			}
		}
		hidden_effect = {
			event_target:SM_spawn_target_1 = { set_province_flag = SM_skip_target_flag }
			event_target:SM_spawn_target_2 = { set_province_flag = SM_skip_target_flag }
			event_target:SM_spawn_target_3 = { set_province_flag = SM_skip_target_flag }
			event_target:SM_spawn_target_4 = { set_province_flag = SM_skip_target_flag }
			event_target:SM_spawn_target_5 = { set_province_flag = SM_skip_target_flag }
			country_event = {
				id = SM_wondrous_garden_in_the_desert_events.1
			}
		}
	}
	option = {
		name = SM.choose_other_province
		highlight = yes
		trigger = {
			hidden_trigger = {
				NOT = { SM_other_potential_province_exists_triggers = yes }
				calc_true_if = {
					all_owned_province = {
						SM_wondrous_garden_in_the_desert_province_triggers = yes
					}
					amount = 6
				}
			}
		}
		hidden_effect = {
			every_owned_province = {
				clr_province_flag = SM_skip_target_flag
			}
			country_event = {
				id = SM_wondrous_garden_in_the_desert_events.1
			}
		}
	}
	after = {
		every_owned_province = { 
			clr_province_flag = SM_skip_target_flag
			clr_province_flag = SM_valid_province_flag
		}
		clr_country_flag = SM_spawn_event_open_flag
	}
}
country_event = { #Choose province
	id = SM_wondrous_garden_in_the_desert_events.1
	title = SM_wondrous_garden_in_the_desert_events.spawn_title
	desc = SM_wondrous_garden_in_the_desert_events.spawn_desc
	picture = CITY_VIEW_eventPicture
	is_triggered_only = yes
	major = yes
	major_trigger = {
		knows_country = ROOT
	}
	immediate = {
		hidden_effect = {
			set_country_flag = SM_spawn_event_open_flag
			every_owned_province = {
				limit = { SM_wondrous_garden_in_the_desert_province_triggers = yes }
				set_province_flag = SM_valid_province_flag
			}
			SM_set_spawn_target_effects = yes
		}
	}
	option = {
		name = [SM_spawn_target_1.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			hidden_trigger = {
				has_saved_event_target = SM_spawn_target_1
				event_target:SM_spawn_target_1 = {
					NOT = { has_province_flag = SM_skip_target_flag }
				}
			}
		}
		goto = SM_spawn_target_1
		event_target:SM_spawn_target_1 = {
			SM_wondrous_garden_in_the_desert_spawn_province_effects = yes
		}
	}
	option = {
		name = [SM_spawn_target_2.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			has_saved_event_target = SM_spawn_target_2
			event_target:SM_spawn_target_2 = {
				NOT = { has_province_flag = SM_skip_target_flag }
			}
		}
		goto = SM_spawn_target_2
		event_target:SM_spawn_target_2 = {
			SM_wondrous_garden_in_the_desert_spawn_province_effects = yes
		}
	}
	option = {
		name = [SM_spawn_target_3.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			has_saved_event_target = SM_spawn_target_3
			event_target:SM_spawn_target_3 = {
				NOT = { has_province_flag = SM_skip_target_flag }
			}
		}
		goto = SM_spawn_target_3
		event_target:SM_spawn_target_3 = {
			SM_wondrous_garden_in_the_desert_spawn_province_effects = yes
		}
	}
	option = {
		name = [SM_spawn_target_4.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			has_saved_event_target = SM_spawn_target_4
			event_target:SM_spawn_target_4 = {
				NOT = { has_province_flag = SM_skip_target_flag }
			}
		}
		goto = SM_spawn_target_4
		event_target:SM_spawn_target_4 = {
			SM_wondrous_garden_in_the_desert_spawn_province_effects = yes
		}
	}
	option = {
		name = [SM_spawn_target_5.GetName]
		ai_chance = {
			factor = 1
		}
		trigger = {
			has_saved_event_target = SM_spawn_target_5
			event_target:SM_spawn_target_5 = {
				NOT = { has_province_flag = SM_skip_target_flag }
			}
		}
		goto = SM_spawn_target_5
		event_target:SM_spawn_target_5 = {
			SM_wondrous_garden_in_the_desert_spawn_province_effects = yes
		}
	}
	option = {
		name = SM.choose_other_province
		highlight = yes
		trigger = {
			hidden_trigger = {
				SM_other_potential_province_exists_triggers = yes
			}
		}
		hidden_effect = {
			event_target:SM_spawn_target_1 = { set_province_flag = SM_skip_target_flag }
			event_target:SM_spawn_target_2 = { set_province_flag = SM_skip_target_flag }
			event_target:SM_spawn_target_3 = { set_province_flag = SM_skip_target_flag }
			event_target:SM_spawn_target_4 = { set_province_flag = SM_skip_target_flag }
			event_target:SM_spawn_target_5 = { set_province_flag = SM_skip_target_flag }
			country_event = {
				id = SM_wondrous_garden_in_the_desert_events.0
			}
		}
	}
	option = {
		name = SM.choose_other_province
		highlight = yes
		trigger = {
			hidden_trigger = {
				NOT = { SM_other_potential_province_exists_triggers = yes }
				calc_true_if = {
					all_owned_province = {
						SM_wondrous_garden_in_the_desert_province_triggers = yes
					}
					amount = 6
				}
			}
		}
		hidden_effect = {
			every_owned_province = {
				clr_province_flag = SM_skip_target_flag
			}
			country_event = {
				id = SM_wondrous_garden_in_the_desert_events.0
			}
		}
	}
	after = {
		every_owned_province = { 
			clr_province_flag = SM_skip_target_flag
			clr_province_flag = SM_valid_province_flag
		}
		clr_country_flag = SM_spawn_event_open_flag
	}
}